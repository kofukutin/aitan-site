<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Critical CSS for .site-title -->
  <style>
    .site-title {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue",
                  "ヒラギノ角ゴ ProN", "游ゴシック体", "メイリオ", sans-serif;
      font-size: 24px;
      font-weight: bold;
      line-height: 1.5;
      color: #333;
      text-align: center;
      margin-top: 1rem;
    }

    .site-title-link {
      text-decoration: none;
      color: inherit;
    }

    .site-header {
      text-align: center;
      margin-bottom: 2em;
    }

    .site-header-inner {
      max-width: 760px;
      margin: 0 auto;
    }
  </style>

  {{ if eq .Params.robots "noindex" }}
    <meta name="robots" content="noindex">
  {{ end }}

  <title>
    {{ if .Title }}
      {{ .Title }}｜あいたん！
    {{ else }}
      あいたん！AI × 英単語 = 合格🌸
    {{ end }}
  </title>

  {{ with .Params.description }}
    <meta name="description" content="{{ . | plainify }}">
  {{ end }}

  <!-- OGP -->
  <meta property="og:type" content="article">
  <meta property="og:title" content="{{ .Title }}｜あいたん！">
  <meta property="og:description" content="{{ .Params.description | plainify }}">
  <meta property="og:url" content="{{ .Permalink }}">
  <meta property="og:image" content="{{ with .Params.og_image }}{{ . }}{{ else }}https://ai-tan.jp/images/default-ogp.png{{ end }}">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{{ .Title }}｜あいたん！">
  <meta name="twitter:description" content="{{ .Params.description | plainify }}">
  <meta name="twitter:image" content="{{ with .Params.og_image }}{{ . }}{{ else }}https://ai-tan.jp/images/default-ogp.png{{ end }}">

  <link rel="stylesheet" href="/css/base.css" media="all">
  {{ if not hugo.IsServer }}
  <!-- Google Analytics (defer) -->
  <script defer src="https://www.googletagmanager.com/gtag/js?id=G-VQ1MQLJM8G"></script>
  <script>
    window.addEventListener('DOMContentLoaded', function () {
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-VQ1MQLJM8G', {
        anonymize_ip: true
      });
    });
  </script>
  {{ end }}
  <link rel="icon" href="/favicon.ico">
</head>

<body>
  <header class="site-header">
    <div class="site-header-inner">
      <a href="/" class="site-title-link">
        <div class="site-title">あいたん！</div>
        <div class="site-subtitle">AI × 英単語 = 合格🌸</div>
      </a>
    </div>
  </header>

  <main class="fade-in">
    {{ block "main" . }}{{ end }}
  </main>

  <footer class="site-footer">
    <p>
      <a href="/privacy/">プライバシーポリシー</a> |
      <a href="/contact/">お問い合わせ</a>
    </p>
    <p>© あいたん！ All rights reserved.</p>
  </footer>

  {{ if eq .RelPermalink "/" }}
    <script src="/js/search.js"></script>
  {{ end }}

  {{ if and (eq .Kind "page") (eq .Section "word") }}
    <script src="/js/tts.js" defer></script>
  {{ end }}

</body>
</html>
